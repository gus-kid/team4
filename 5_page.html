<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5 Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden; 
            height: 100vh; 
        }
        .container {
            position: relative;
            display: inline-block;
        }
        img {
            width: 90%;
            max-width: 600px;
        }
        .ox-group button {
            position: absolute;
            background-color: transparent;
            border: none;
            font-size: 20px; 
            cursor: pointer;
        }
        .ox-group button.highlight {
            background-color: yellow;
        }
        .input-group {
            position: relative;
            width: 400px;
            height: 50px;
        }
        .input-group input {
            position: absolute;
            width: 150px;
            padding: 5px;
        }
        .input-group button {
            position: absolute;
            padding: 5px 10px;
            cursor: pointer;
        }
        #next-button {
            display: none; 
            position: absolute;
            bottom: 300px;
            right: -70px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="page05_1.jpg" alt="Questions">

        <div class="ox-group">
            <button style="top: 16.8%; left: 72.2%;" onclick="highlightOX(this, 1, 'X')">O</button>
            <button style="top: 16.8%; left: 79.2%;" onclick="highlightOX(this, 1, 'X')">X</button>

            <button style="top: 21%; left: 72.2%;" onclick="highlightOX(this, 2, 'O')">O</button>
            <button style="top: 21%; left: 79%;" onclick="highlightOX(this, 2, 'O')">X</button>

            <button style="top: 26.5%; left: 72.2%;" onclick="highlightOX(this, 3, 'O')">O</button>
            <button style="top: 26.5%; left: 79%;" onclick="highlightOX(this, 3, 'O')">X</button>

            <button style="top: 30.9%; left: 72.2%;" onclick="highlightOX(this, 4, 'X')">O</button>
            <button style="top: 30.9%; left: 79%;" onclick="highlightOX(this, 4, 'X')">X</button>
        </div>

        <div class="input-group" style="top: 200px; left: 100px;">
            <input type="text" id="q1" placeholder="정답 입력" style="top: -530px; left: 130px; width: 250px;">
            <button onclick="checkText(1, '적절한 열량을 섭취합니다')" style="top: -550px; left: 410px;">확인</button>
        </div>
        <div class="input-group" style="top: 300px; left: 100px;">
            <input type="text" id="q2" placeholder="정답 입력" style="top: -634px; left: 0px; width: 150px;">
            <button onclick="checkText(2, '식사는 규칙적으로 하고')" style="top: -634px; left: 320px;">확인</button>
        </div>
        <div class="input-group" style="top: 400px; left: 100px;">
            <input type="text" id="q3" placeholder="정답 입력" style="top: -736px; left: 0px; width: 150px;">
            <button onclick="checkText(3, '불포화지방')" style="top: -736px; left: 250px;">확인</button>
        </div>
        <div class="input-group" style="top: 500px; left: 100px;">
            <input type="text" id="q4" placeholder="정답 입력" style="top: -839px; left: -2px; width: 200px;">
            <button onclick="checkText(4, '포화지방산 콜레스테롤, 콜레스테롤 포화지방산, 콜레스테롤,포화지방산')" style="top: -839px; left: 410px;">확인</button>
        </div>
        <div class="input-group" style="top: 600px; left: 100px;">
            <input type="text" id="q5" placeholder="정답 입력" style="top: -940px; left: -2px; width: 230px;">
            <button onclick="checkText(5, '채소 과일 잡곡, 채소,과일,잡곡,과일,채소,잡곡,잡곡,채소,과일,채소 잡곡 과일,과일 잡곡 채소,잡곡 과일 채소,과일 채소 잡곡,잡곡 채소 과일')" style="top: -940px; left: 365px;">확인</button>
        </div>

        <button id="next-button" onclick="goToNextPage()">다음</button>
    </div>

    <script>
        const answeredOX = {};
        const answeredText = {};

        function highlightOX(el, qNum, correct) {
            const siblings = el.parentNode.querySelectorAll('button');

            el.classList.add('highlight');

            if (el.innerHTML === correct) {
                if (qNum === 1) {
                    showMessage("정답입니다! 고지혈증은 혈관 속 혈액이 잘 흐르지 않는 현상입니다.");
                } else if (qNum === 4) {
                    showMessage("정답입니다! 총 콜레스테롤의 정상범위는 200mg 이하입니다.");
                } else {
                    showMessage("정답입니다!");
                }
                answeredOX[qNum] = true;
            } else {
                setTimeout(() => el.classList.remove('highlight'), 1500); 
                showMessage("오답입니다!");
                answeredOX[qNum] = false;
            }
            checkAllAnswers();
        }

        function checkText(qNum, correct) {
            const input = document.getElementById(`q${qNum}`);
            const value = input.value.trim().replace(/\s+/g, " ").split(/,| /).filter(Boolean).join(",");
            const correctAnswers = correct.split(", ").map(ans => ans.replace(/\s+/g, " ").split(/,| /).filter(Boolean).join(","));
            
            if (correctAnswers.includes(value)) {
                showMessage("정답입니다!");
                answeredText[qNum] = true;
            } else {
                showMessage("오답입니다!");
                answeredText[qNum] = false;
                input.value = ""; 
            }
            checkAllAnswers();
        }

        function checkAllAnswers() {
            const allAnswered = 
                Object.keys(answeredOX).length === 4 &&
                Object.keys(answeredText).length === 5 &&
                Object.values(answeredOX).every(answer => answer === true) && 
                Object.values(answeredText).every(answer => answer === true);
            if (allAnswered) {
                document.getElementById("next-button").style.display = "block";
            }
        }

        function showMessage(message) {
            window.alert(message);
        }

        function goToNextPage() {
            window.location.href = "page_06.html";
        }
    </script>
</body>
</html>
